# 酒店管理系统产品说明书

**文档版本：** V1.0  
**编制日期：** 2026年2月13日  
**文档状态：** 初稿

---

## 目录

- [1. 产品概述](#1-产品概述)
  - [1.1 项目背景](#11-项目背景)
  - [1.2 产品定位](#12-产品定位)
  - [1.3 目标用户](#13-目标用户)
  - [1.4 核心价值](#14-核心价值)
- [2. 技术栈说明](#2-技术栈说明)
  - [2.1 后端技术栈](#21-后端技术栈)
  - [2.2 前端技术栈](#22-前端技术栈)
  - [2.3 数据库技术](#23-数据库技术)
  - [2.4 开发工具](#24-开发工具)
- [3. 技术架构设计](#3-技术架构设计)
  - [3.1 系统架构图](#31-系统架构图)
  - [3.2 架构分层说明](#32-架构分层说明)
  - [3.3 技术选型理由](#33-技术选型理由)
  - [3.4 系统部署架构](#34-系统部署架构)
- [4. 功能模块设计](#4-功能模块设计)
  - [4.1 管理端功能模块](#41-管理端功能模块)
  - [4.2 普通用户端功能模块](#42-普通用户端功能模块)
  - [4.3 核心业务流程](#43-核心业务流程)
- [5. 数据库设计](#5-数据库设计)
  - [5.1 数据库概述](#51-数据库概述)
  - [5.2 数据表设计](#52-数据表设计)
  - [5.3 数据关系图](#53-数据关系图)
  - [5.4 索引设计](#54-索引设计)
- [6. UI设计规范](#6-ui设计规范)
  - [6.1 设计风格](#61-设计风格)
  - [6.2 色彩规范](#62-色彩规范)
  - [6.3 字体规范](#63-字体规范)
  - [6.4 组件规范](#64-组件规范)
  - [6.5 页面布局规范](#65-页面布局规范)
- [7. 接口设计规范](#7-接口设计规范)
  - [7.1 接口规范](#71-接口规范)
  - [7.2 管理端接口列表](#72-管理端接口列表)
  - [7.3 用户端接口列表](#73-用户端接口列表)
  - [7.4 错误码定义](#74-错误码定义)
- [8. 非功能性需求](#8-非功能性需求)
  - [8.1 性能需求](#81-性能需求)
  - [8.2 安全需求](#82-安全需求)
  - [8.3 可用性需求](#83-可用性需求)
- [9. 附录](#9-附录)
  - [9.1 术语表](#91-术语表)
  - [9.2 参考文档](#92-参考文档)

---

## 1. 产品概述

### 1.1 项目背景

随着旅游业的快速发展和商务活动的日益频繁，酒店行业面临着激烈的市场竞争。传统的酒店管理方式存在效率低下、信息不透明、客户体验差等问题。为了提升酒店运营效率、优化客户预订体验、实现数据化管理，开发一套现代化的酒店管理系统势在必行。

本系统旨在通过信息化手段，实现酒店客房资源的高效管理、订单流程的规范化处理、经营数据的可视化分析，从而帮助酒店提升服务质量和管理水平。

### 1.2 产品定位

本产品定位为**中小型酒店综合管理系统**，主要服务于以下场景：

- **客房预订管理**：提供便捷的客房查询、预订、支付功能
- **订单流程管理**：实现从预订到入住、退房的完整流程管理
- **经营数据分析**：提供多维度的经营数据统计和分析
- **用户权限管理**：区分管理员和普通用户，提供差异化服务

### 1.3 目标用户

#### 1.3.1 管理端用户

| 用户角色 | 职责描述 | 主要功能权限 |
|---------|---------|-------------|
| 系统管理员 | 负责系统整体运维和用户管理 | 用户管理、客房管理、订单管理、数据统计 |
| 酒店经理 | 负责酒店日常运营管理 | 客房管理、订单管理、数据统计 |
| 前台接待 | 负责客户接待和订单处理 | 订单管理、客房查询 |

#### 1.3.2 普通用户端用户

| 用户角色 | 职责描述 | 主要功能权限 |
|---------|---------|-------------|
| 注册用户 | 通过系统预订客房的个人用户 | 注册登录、客房预订、订单管理、个人信息管理 |
| 游客 | 未注册的访问用户 | 客房浏览（仅查看，不可预订） |

### 1.4 核心价值

#### 1.4.1 对酒店方

- **提升管理效率**：通过信息化手段简化管理流程，减少人工操作
- **优化资源配置**：实时掌握客房状态，提高客房利用率
- **数据驱动决策**：通过数据分析辅助经营决策
- **降低运营成本**：减少纸质记录和人工统计工作

#### 1.4.2 对用户方

- **便捷预订体验**：随时随地查询和预订客房
- **透明信息展示**：清晰了解客房信息和价格
- **订单可视管理**：实时查看订单状态和历史记录
- **安全支付保障**：提供安全可靠的支付渠道

---

## 2. 技术栈说明

### 2.1 后端技术栈

| 技术名称 | 版本 | 用途说明 | 选型理由 |
|---------|------|---------|---------|
| Spring Boot | 2.7.x | 应用框架 | 简化配置，快速开发，生态完善 |
| MyBatis | 3.5.x | ORM框架 | SQL灵活可控，适合复杂查询 |
| MySQL | 8.0.x | 关系型数据库 | 成熟稳定，性能优异，社区活跃 |
| Maven | 3.8.x | 项目构建工具 | 依赖管理方便，构建标准化 |
| Druid | 1.2.x | 数据库连接池 | 阿里开源，性能优秀，监控完善 |
| Lombok | 1.18.x | 代码简化工具 | 减少样板代码，提高开发效率 |

#### 2.1.1 Spring Boot 核心依赖

```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>2.7.18</version>
</parent>

<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.mybatis.spring.boot</groupId>
        <artifactId>mybatis-spring-boot-starter</artifactId>
        <version>2.3.1</version>
    </dependency>
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>8.0.33</version>
    </dependency>
    <dependency>
        <groupId>com.alibaba</groupId>
        <artifactId>druid-spring-boot-starter</artifactId>
        <version>1.2.20</version>
    </dependency>
</dependencies>
```

### 2.2 前端技术栈

| 技术名称 | 版本 | 用途说明 | 选型理由 |
|---------|------|---------|---------|
| Vue.js | 3.3.x | 前端框架 | 组件化开发，响应式数据绑定 |
| Vue Router | 4.2.x | 路由管理 | SPA应用路由控制 |
| Pinia | 2.1.x | 状态管理 | Vue3官方推荐，轻量高效 |
| Element Plus | 2.4.x | UI组件库 | 商务风格组件丰富，文档完善 |
| Axios | 1.6.x | HTTP客户端 | Promise支持，拦截器机制 |
| Vite | 4.5.x | 构建工具 | 快速冷启动，热模块替换 |

#### 2.2.1 前端项目结构

```
hotel-frontend/
├── public/              # 静态资源
├── src/
│   ├── api/            # API接口
│   ├── assets/         # 资源文件
│   ├── components/     # 公共组件
│   ├── layouts/        # 布局组件
│   ├── router/         # 路由配置
│   ├── stores/         # 状态管理
│   ├── styles/         # 样式文件
│   ├── utils/          # 工具函数
│   └── views/          # 页面组件
│       ├── admin/      # 管理端页面
│       └── user/       # 用户端页面
├── package.json
└── vite.config.js
```

### 2.3 数据库技术

#### 2.3.1 MySQL 8.0 特性应用

- **字符集**：使用 utf8mb4 支持完整Unicode字符
- **存储引擎**：InnoDB，支持事务和外键
- **索引优化**：合理使用索引提升查询性能
- **事务隔离**：READ-COMMITTED 级别，平衡性能与一致性

#### 2.3.2 数据库连接配置

```yaml
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/hotel_system?useUnicode=true&characterEncoding=utf8mb4&serverTimezone=Asia/Shanghai
    username: root
    password: ${DB_PASSWORD}
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      initial-size: 5
      min-idle: 5
      max-active: 20
      max-wait: 60000
```

### 2.4 开发工具

| 工具名称 | 用途说明 |
|---------|---------|
| IntelliJ IDEA | 后端开发IDE |
| VS Code | 前端开发编辑器 |
| Navicat / DBeaver | 数据库管理工具 |
| Postman | API测试工具 |
| Git | 版本控制 |
| Maven | 项目构建和依赖管理 |

---

## 3. 技术架构设计

### 3.1 系统架构图

```
┌─────────────────────────────────────────────────────────────────┐
│                         客户端层（Client Layer）                  │
├─────────────────────────────────────────────────────────────────┤
│  ┌──────────────────┐              ┌──────────────────┐         │
│  │   管理端 Web      │              │   用户端 Web      │         │
│  │  (Vue3 + Element) │              │  (Vue3 + Element) │         │
│  └──────────────────┘              └──────────────────┘         │
└─────────────────────────────────────────────────────────────────┘
                              ↓ HTTP/HTTPS
┌─────────────────────────────────────────────────────────────────┐
│                       应用层（Application Layer）                 │
├─────────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────────┐   │
│  │              Spring Boot Application                      │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐      │   │
│  │  │ Controller  │  │ Controller  │  │ Controller  │      │   │
│  │  │  (管理端)    │  │  (用户端)    │  │  (公共)      │      │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘      │   │
│  │           ↓                ↓                ↓             │   │
│  │  ┌─────────────────────────────────────────────────┐    │   │
│  │  │              Service Layer                       │    │   │
│  │  │  UserService | RoomService | OrderService        │    │   │
│  │  └─────────────────────────────────────────────────┘    │   │
│  │                          ↓                               │   │
│  │  ┌─────────────────────────────────────────────────┐    │   │
│  │  │               DAO Layer (MyBatis)                │    │   │
│  │  │  UserMapper | RoomMapper | OrderMapper           │    │   │
│  │  └─────────────────────────────────────────────────┘    │   │
│  └──────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
                              ↓ JDBC
┌─────────────────────────────────────────────────────────────────┐
│                       数据层（Data Layer）                        │
├─────────────────────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────────────────────┐   │
│  │                    MySQL 8.0 Database                     │   │
│  │  ┌──────────┐  ┌──────────┐  ┌──────────┐               │   │
│  │  │ sys_user │  │ sys_room │  │sys_order │               │   │
│  │  └──────────┘  └──────────┘  └──────────┘               │   │
│  └──────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 架构分层说明

#### 3.2.1 表现层（Presentation Layer）

**职责**：处理HTTP请求，参数校验，响应封装

- **Controller**：接收前端请求，调用Service层处理业务逻辑
- **VO（View Object）**：视图对象，封装返回给前端的数据
- **DTO（Data Transfer Object）**：数据传输对象，接收前端参数

#### 3.2.2 业务层（Business Layer）

**职责**：实现核心业务逻辑，事务管理

- **Service**：业务逻辑处理，事务控制
- **业务校验**：业务规则验证，数据一致性保证
- **异常处理**：业务异常的捕获和处理

#### 3.2.3 持久层（Persistence Layer）

**职责**：数据访问和持久化

- **Mapper**：MyBatis映射接口，定义数据库操作
- **Entity**：实体类，与数据库表对应
- **XML Mapper**：SQL映射文件，编写SQL语句

#### 3.2.4 数据层（Data Layer）

**职责**：数据存储和管理

- **MySQL数据库**：关系型数据存储
- **连接池**：Druid连接池管理数据库连接

### 3.3 技术选型理由

#### 3.3.1 后端技术选型

| 技术 | 选型理由 |
|-----|---------|
| Spring Boot 2.x | 企业级应用首选框架，简化配置，提供自动配置和起步依赖，开发效率高 |
| MyBatis | 灵活的SQL映射框架，适合复杂查询场景，SQL可控性强，便于优化 |
| MySQL 8.x | 成熟稳定的关系型数据库，支持事务，性能优异，社区活跃，成本低 |

#### 3.3.2 前端技术选型

| 技术 | 选型理由 |
|-----|---------|
| Vue 3 | 主流前端框架，组合式API提高代码复用性，性能优于Vue 2 |
| Element Plus | 基于Vue 3的企业级UI组件库，商务风格，组件丰富，文档完善 |
| Pinia | Vue 3官方推荐的状态管理库，比Vuex更轻量，TypeScript支持更好 |

#### 3.3.3 认证方案说明

根据需求，系统采用**简化的角色认证方案**：

- **不使用Token认证**：简化开发流程，适合内部系统
- **Session管理**：使用Session存储用户登录状态
- **角色控制**：通过用户表的role字段区分管理员和普通用户
- **权限拦截**：前端路由守卫 + 后端接口校验双重保障

### 3.4 系统部署架构

#### 3.4.1 单机部署架构（开发/测试环境）

```
┌────────────────────────────────────────┐
│           单台服务器                     │
│  ┌──────────────────────────────────┐  │
│  │        Nginx (可选)               │  │
│  │   静态资源 + 反向代理              │  │
│  └──────────────────────────────────┘  │
│                 ↓                       │
│  ┌──────────────────────────────────┐  │
│  │     Spring Boot Application       │  │
│  │        (内嵌Tomcat)               │  │
│  └──────────────────────────────────┘  │
│                 ↓                       │
│  ┌──────────────────────────────────┐  │
│  │       MySQL 8.0 Database          │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

#### 3.4.2 生产环境部署架构（建议）

```
┌──────────────────────────────────────────────────────────┐
│                    负载均衡层                             │
│                  Nginx / SLB                             │
└──────────────────────────────────────────────────────────┘
                    ↓                   ↓
        ┌──────────────────┐   ┌──────────────────┐
        │   应用服务器 1    │   │   应用服务器 2    │
        │  Spring Boot     │   │  Spring Boot     │
        └──────────────────┘   └──────────────────┘
                    ↓                   ↓
        ┌──────────────────────────────────────────┐
        │         数据库主从复制架构                 │
        │  ┌────────────┐      ┌────────────┐     │
        │  │  Master DB  │ → → │  Slave DB   │     │
        │  └────────────┘      └────────────┘     │
        └──────────────────────────────────────────┘
```

---

## 4. 功能模块设计

### 4.1 管理端功能模块

#### 4.1.1 功能模块总览

```
管理端系统
├── 用户管理
│   ├── 用户列表查询
│   ├── 用户信息新增
│   ├── 用户信息编辑
│   ├── 用户状态管理（启用/禁用）
│   └── 用户角色分配
├── 客房信息管理
│   ├── 客房列表查询
│   ├── 客房信息新增
│   ├── 客房信息编辑
│   ├── 客房状态管理（空闲/预订/入住/维护）
│   ├── 客房类型管理
│   └── 客房价格设置
├── 订单管理
│   ├── 订单列表查询
│   ├── 订单详情查看
│   ├── 订单状态处理（确认/拒绝/入住/退房）
│   ├── 订单搜索筛选
│   └── 订单导出
└── 数据统计分析
    ├── 客房预订率统计
    │   ├── 按时间维度统计
    │   ├── 按客房类型统计
    │   └── 预订趋势图表
    └── 营收统计
        ├── 营收总额统计
        ├── 营收趋势分析
        └── 营收报表导出
```

#### 4.1.2 用户管理模块

**功能描述**：管理系统用户账号，包括管理员账号和普通用户账号。

| 功能项 | 功能说明 | 操作权限 |
|-------|---------|---------|
| 用户列表查询 | 分页查询所有用户，支持按用户名、角色、状态筛选 | 系统管理员 |
| 用户信息新增 | 添加新用户，设置用户名、密码、角色等信息 | 系统管理员 |
| 用户信息编辑 | 修改用户基本信息、角色分配 | 系统管理员 |
| 用户状态管理 | 启用或禁用用户账号 | 系统管理员 |
| 密码重置 | 重置用户登录密码 | 系统管理员 |

**业务规则**：

1. 用户名唯一，不可重复
2. 密码长度不少于6位，建议包含字母和数字
3. 角色分为：管理员（admin）、普通用户（user）
4. 禁用状态的用户无法登录系统

#### 4.1.3 客房信息管理模块

**功能描述**：管理酒店客房资源，包括客房基本信息、状态、价格等。

| 功能项 | 功能说明 | 操作权限 |
|-------|---------|---------|
| 客房列表查询 | 分页查询所有客房，支持按房型、状态、楼层筛选 | 管理员、前台 |
| 客房信息新增 | 添加新客房，设置房号、房型、价格、设施等信息 | 管理员 |
| 客房信息编辑 | 修改客房基本信息、价格设置 | 管理员 |
| 客房状态管理 | 更新客房状态（空闲、预订、入住、维护） | 管理员、前台 |
| 客房类型管理 | 管理客房类型（标准间、大床房、套房等） | 管理员 |

**客房状态流转**：

```
┌─────────┐  预订成功  ┌─────────┐  入住办理  ┌─────────┐
│  空闲   │ ────────→ │  预订   │ ────────→ │  入住   │
└─────────┘           └─────────┘           └─────────┘
     ↑                                            │
     │                 取消预订                    │  退房
     │                ┌─────────┐                 │
     └─────────────── │  预订   │ ←───────────────┘
         维护完成     └─────────┘    取消入住
     ┌─────────┐           │
     │  维护   │ ←─────────┘
     └─────────┘   设为维护
```

**客房类型定义**：

| 类型编码 | 类型名称 | 基础价格 | 床型 | 面积 | 设施配置 |
|---------|---------|---------|------|------|---------|
| STANDARD | 标准间 | ¥288 | 双床1.2m | 25㎡ | WiFi、空调、电视、独立卫浴 |
| BIG_BED | 大床房 | ¥328 | 大床1.8m | 28㎡ | WiFi、空调、电视、独立卫浴、迷你吧 |
| DELUXE | 豪华房 | ¥488 | 大床2.0m | 35㎡ | WiFi、空调、电视、独立卫浴、迷你吧、浴缸 |
| SUITE | 套房 | ¥888 | 大床2.0m | 55㎡ | WiFi、空调、电视、独立卫浴、迷你吧、浴缸、客厅 |

#### 4.1.4 订单管理模块

**功能描述**：处理用户预订订单，管理订单全生命周期。

| 功能项 | 功能说明 | 操作权限 |
|-------|---------|---------|
| 订单列表查询 | 分页查询所有订单，支持按订单号、用户、状态、时间筛选 | 管理员、前台 |
| 订单详情查看 | 查看订单详细信息，包括客房信息、用户信息、支付信息 | 管理员、前台 |
| 订单状态处理 | 确认订单、拒绝订单、办理入住、办理退房 | 管理员、前台 |
| 订单搜索筛选 | 按多种条件组合搜索订单 | 管理员、前台 |
| 订单导出 | 导出订单数据为Excel文件 | 管理员 |

**订单状态流转**：

```
┌──────────┐  提交订单  ┌──────────┐  支付成功  ┌──────────┐
│  待支付   │ ←─────── │  待确认   │ ────────→ │  已确认   │
└──────────┘           └──────────┘           └──────────┘
     │                       │                      │
     │ 超时取消              │ 拒绝                 │ 入住办理
     ↓                       ↓                      ↓
┌──────────┐           ┌──────────┐           ┌──────────┐
│  已取消   │           │  已拒绝   │           │  已入住   │
└──────────┘           └──────────┘           └──────────┘
                                                   │
                                                   │ 退房
                                                   ↓
                                             ┌──────────┐
                                             │  已完成   │
                                             └──────────┘
```

**订单状态说明**：

| 状态码 | 状态名称 | 状态说明 | 可执行操作 |
|-------|---------|---------|-----------|
| 0 | 待支付 | 用户已提交订单，等待支付 | 支付、取消 |
| 1 | 待确认 | 用户已支付，等待管理员确认 | 确认、拒绝 |
| 2 | 已确认 | 管理员已确认订单 | 办理入住 |
| 3 | 已入住 | 用户已办理入住 | 办理退房 |
| 4 | 已完成 | 用户已退房，订单完成 | 查看 |
| 5 | 已取消 | 订单已取消 | 查看 |
| 6 | 已拒绝 | 管理员拒绝订单 | 查看 |

#### 4.1.5 数据统计分析模块

**功能描述**：提供多维度的经营数据统计和分析，辅助管理决策。

##### 客房预订率统计

| 统计维度 | 统计内容 | 展示方式 |
|---------|---------|---------|
| 时间维度 | 按日/周/月统计预订率 | 折线图、数据表 |
| 客房类型 | 各类型客房预订率对比 | 柱状图、饼图 |
| 预订趋势 | 近期预订趋势分析 | 折线图 |

**预订率计算公式**：

```
预订率 = (已预订客房数 / 总客房数) × 100%
入住率 = (已入住客房数 / 总客房数) × 100%
```

##### 营收统计

| 统计维度 | 统计内容 | 展示方式 |
|---------|---------|---------|
| 营收总额 | 指定时间段内的总营收 | 数字卡片、趋势图 |
| 营收趋势 | 按日/周/月的营收变化 | 折线图 |
| 客房类型营收 | 各类型客房营收占比 | 饼图、柱状图 |
| 营收报表 | 详细营收数据报表 | 数据表格、导出Excel |

### 4.2 普通用户端功能模块

#### 4.2.1 功能模块总览

```
用户端系统
├── 注册/登录
│   ├── 用户注册
│   ├── 用户登录
│   └── 退出登录
├── 个人信息管理
│   ├── 个人信息查看
│   ├── 个人信息修改
│   └── 密码修改
├── 客房预订
│   ├── 客房列表浏览
│   ├── 客房详情查看
│   ├── 客房搜索筛选
│   ├── 提交预订订单
│   └── 订单支付
└── 个人订单管理
    ├── 我的订单列表
    ├── 订单详情查看
    ├── 订单状态跟踪
    └── 订单取消
```

#### 4.2.2 注册/登录模块

**功能描述**：提供用户注册和登录功能，建立用户身份认证。

| 功能项 | 功能说明 | 业务规则 |
|-------|---------|---------|
| 用户注册 | 填写用户名、密码、手机号等信息完成注册 | 用户名唯一，密码不少于6位 |
| 用户登录 | 输入用户名和密码登录系统 | 验证用户名密码，设置Session |
| 退出登录 | 清除登录状态，返回登录页 | 清除Session信息 |

**登录认证流程**：

```
┌──────────┐
│ 输入账号  │
│ 密码     │
└─────┬────┘
      ↓
┌──────────┐    否    ┌──────────┐
│ 账号存在？│ ─────→  │ 提示错误  │
└─────┬────┘          └──────────┘
      │ 是
      ↓
┌──────────┐    否    ┌──────────┐
│ 密码正确？│ ─────→  │ 提示错误  │
└─────┬────┘          └──────────┘
      │ 是
      ↓
┌──────────┐    否    ┌──────────┐
│ 账号启用？│ ─────→  │ 提示已禁用│
└─────┬────┘          └──────────┘
      │ 是
      ↓
┌──────────┐
│ 创建Session│
│ 存储用户信息│
└─────┬────┘
      ↓
┌──────────┐
│ 根据角色  │
│ 跳转首页  │
└──────────┘
```

#### 4.2.3 个人信息管理模块

**功能描述**：用户管理个人基本信息和账户安全。

| 功能项 | 功能说明 | 字段内容 |
|-------|---------|---------|
| 个人信息查看 | 查看当前登录用户的个人信息 | 用户名、姓名、手机号、邮箱、注册时间 |
| 个人信息修改 | 修改个人基本信息 | 姓名、手机号、邮箱 |
| 密码修改 | 修改登录密码 | 原密码、新密码、确认密码 |

**密码修改规则**：

1. 需验证原密码正确性
2. 新密码长度不少于6位
3. 新密码不能与原密码相同
4. 确认密码需与新密码一致

#### 4.2.4 客房预订模块

**功能描述**：用户浏览、查询、预订客房。

| 功能项 | 功能说明 | 操作流程 |
|-------|---------|---------|
| 客房列表浏览 | 分页浏览所有可预订客房 | 进入客房列表页，查看客房信息 |
| 客房详情查看 | 查看客房详细信息、设施、价格 | 点击客房卡片进入详情页 |
| 客房搜索筛选 | 按条件筛选客房 | 选择房型、价格区间、入住日期 |
| 提交预订订单 | 填写入住信息，提交预订 | 选择客房→填写入住信息→确认预订 |
| 订单支付 | 完成订单支付 | 选择支付方式→确认支付→支付成功 |

**预订流程**：

```
┌──────────┐
│ 浏览客房  │
│ 列表     │
└─────┬────┘
      ↓
┌──────────┐
│ 查看客房  │
│ 详情     │
└─────┬────┘
      ↓
┌──────────┐
│ 选择入住  │
│ 日期     │
└─────┬────┘
      ↓
┌──────────┐
│ 填写入住  │
│ 信息     │
└─────┬────┘
      ↓
┌──────────┐
│ 确认订单  │
│ 信息     │
└─────┬────┘
      ↓
┌──────────┐
│ 提交订单  │
└─────┬────┘
      ↓
┌──────────┐
│ 支付订单  │
└─────┬────┘
      ↓
┌──────────┐
│ 等待确认  │
└──────────┘
```

**预订信息字段**：

| 字段名 | 字段说明 | 是否必填 |
|-------|---------|---------|
| 入住日期 | 计划入住的日期 | 是 |
| 退房日期 | 计划退房的日期 | 是 |
| 入住人数 | 入住客人数量 | 是 |
| 联系人姓名 | 预订联系人姓名 | 是 |
| 联系电话 | 联系人手机号 | 是 |
| 特殊要求 | 其他特殊需求 | 否 |

#### 4.2.5 个人订单管理模块

**功能描述**：用户查看和管理自己的预订订单。

| 功能项 | 功能说明 | 操作权限 |
|-------|---------|---------|
| 我的订单列表 | 查看个人所有订单，支持按状态筛选 | 当前用户 |
| 订单详情查看 | 查看订单详细信息 | 当前用户 |
| 订单状态跟踪 | 查看订单处理进度 | 当前用户 |
| 订单取消 | 取消未确认的订单 | 当前用户（仅限待支付、待确认状态） |

**订单取消规则**：

1. 待支付状态：可直接取消
2. 待确认状态：可申请取消，需管理员确认
3. 已确认及之后状态：不可取消，需联系客服

### 4.3 核心业务流程

#### 4.3.1 管理端核心流程

```
账号管控 → 客房维护 → 订单处理 → 数据统计
```

**详细流程说明**：

1. **账号管控**
   - 管理员登录系统
   - 创建和管理用户账号
   - 分配用户角色和权限
   - 监控用户登录状态

2. **客房维护**
   - 录入客房基本信息
   - 设置客房类型和价格
   - 更新客房状态
   - 维护客房设施信息

3. **订单处理**
   - 查看待处理订单
   - 确认或拒绝订单
   - 办理入住手续
   - 办理退房结算

4. **数据统计**
   - 查看预订率统计
   - 分析营收数据
   - 导出统计报表
   - 辅助经营决策

#### 4.3.2 用户端核心流程

```
注册登录 → 查房 → 订房 → 管订单
```

**详细流程说明**：

1. **注册登录**
   - 新用户注册账号
   - 已有账号登录系统
   - 完善个人信息

2. **查房**
   - 浏览客房列表
   - 按条件筛选客房
   - 查看客房详情
   - 对比不同客房

3. **订房**
   - 选择入住日期
   - 填写预订信息
   - 提交预订订单
   - 完成订单支付

4. **管订单**
   - 查看订单列表
   - 跟踪订单状态
   - 查看订单详情
   - 取消订单（如需）

---

## 5. 数据库设计

### 5.1 数据库概述

**数据库名称**：hotel_system  
**字符集**：utf8mb4  
**排序规则**：utf8mb4_general_ci  
**存储引擎**：InnoDB

### 5.2 数据表设计

#### 5.2.1 用户表（sys_user）

**表名**：sys_user  
**表注释**：系统用户表

| 字段名 | 数据类型 | 长度 | 允许空 | 默认值 | 主键 | 说明 |
|-------|---------|------|-------|-------|------|------|
| id | BIGINT | 20 | 否 | - | 是 | 用户ID，自增 |
| username | VARCHAR | 50 | 否 | - | - | 用户名，唯一 |
| password | VARCHAR | 100 | 否 | - | - | 密码（加密存储） |
| real_name | VARCHAR | 50 | 是 | NULL | - | 真实姓名 |
| phone | VARCHAR | 20 | 是 | NULL | - | 手机号 |
| email | VARCHAR | 100 | 是 | NULL | - | 邮箱 |
| role | VARCHAR | 20 | 否 | 'user' | - | 角色（admin/user） |
| status | TINYINT | 1 | 否 | 1 | - | 状态（1启用 0禁用） |
| create_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 创建时间 |
| update_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 更新时间 |

**索引设计**：

```sql
PRIMARY KEY (id),
UNIQUE KEY uk_username (username),
KEY idx_role (role),
KEY idx_status (status)
```

**建表SQL**：

```sql
CREATE TABLE `sys_user` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT '用户ID',
  `username` VARCHAR(50) NOT NULL COMMENT '用户名',
  `password` VARCHAR(100) NOT NULL COMMENT '密码',
  `real_name` VARCHAR(50) DEFAULT NULL COMMENT '真实姓名',
  `phone` VARCHAR(20) DEFAULT NULL COMMENT '手机号',
  `email` VARCHAR(100) DEFAULT NULL COMMENT '邮箱',
  `role` VARCHAR(20) NOT NULL DEFAULT 'user' COMMENT '角色',
  `status` TINYINT(1) NOT NULL DEFAULT 1 COMMENT '状态',
  `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_username` (`username`),
  KEY `idx_role` (`role`),
  KEY `idx_status` (`status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='系统用户表';
```

#### 5.2.2 客房类型表（sys_room_type）

**表名**：sys_room_type  
**表注释**：客房类型表

| 字段名 | 数据类型 | 长度 | 允许空 | 默认值 | 主键 | 说明 |
|-------|---------|------|-------|-------|------|------|
| id | BIGINT | 20 | 否 | - | 是 | 类型ID |
| type_code | VARCHAR | 20 | 否 | - | - | 类型编码 |
| type_name | VARCHAR | 50 | 否 | - | - | 类型名称 |
| base_price | DECIMAL | 10,2 | 否 | - | - | 基础价格 |
| bed_type | VARCHAR | 50 | 是 | NULL | - | 床型 |
| area | DECIMAL | 10,2 | 是 | NULL | - | 面积（㎡） |
| facilities | VARCHAR | 500 | 是 | NULL | - | 设施配置 |
| description | VARCHAR | 500 | 是 | NULL | - | 类型描述 |
| status | TINYINT | 1 | 否 | 1 | - | 状态（1启用 0禁用） |
| create_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 创建时间 |
| update_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 更新时间 |

**建表SQL**：

```sql
CREATE TABLE `sys_room_type` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT '类型ID',
  `type_code` VARCHAR(20) NOT NULL COMMENT '类型编码',
  `type_name` VARCHAR(50) NOT NULL COMMENT '类型名称',
  `base_price` DECIMAL(10,2) NOT NULL COMMENT '基础价格',
  `bed_type` VARCHAR(50) DEFAULT NULL COMMENT '床型',
  `area` DECIMAL(10,2) DEFAULT NULL COMMENT '面积',
  `facilities` VARCHAR(500) DEFAULT NULL COMMENT '设施配置',
  `description` VARCHAR(500) DEFAULT NULL COMMENT '类型描述',
  `status` TINYINT(1) NOT NULL DEFAULT 1 COMMENT '状态',
  `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_type_code` (`type_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='客房类型表';
```

#### 5.2.3 客房信息表（sys_room）

**表名**：sys_room  
**表注释**：客房信息表

| 字段名 | 数据类型 | 长度 | 允许空 | 默认值 | 主键 | 说明 |
|-------|---------|------|-------|-------|------|------|
| id | BIGINT | 20 | 否 | - | 是 | 客房ID |
| room_number | VARCHAR | 20 | 否 | - | - | 房间号，唯一 |
| type_id | BIGINT | 20 | 否 | - | - | 客房类型ID |
| floor | INT | 11 | 是 | NULL | - | 楼层 |
| price | DECIMAL | 10,2 | 否 | - | - | 实际价格 |
| status | TINYINT | 1 | 否 | 0 | - | 状态（0空闲 1预订 2入住 3维护） |
| description | VARCHAR | 500 | 是 | NULL | - | 客房描述 |
| image_url | VARCHAR | 500 | 是 | NULL | - | 客房图片 |
| create_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 创建时间 |
| update_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 更新时间 |

**索引设计**：

```sql
PRIMARY KEY (id),
UNIQUE KEY uk_room_number (room_number),
KEY idx_type_id (type_id),
KEY idx_status (status)
```

**建表SQL**：

```sql
CREATE TABLE `sys_room` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT '客房ID',
  `room_number` VARCHAR(20) NOT NULL COMMENT '房间号',
  `type_id` BIGINT(20) NOT NULL COMMENT '客房类型ID',
  `floor` INT(11) DEFAULT NULL COMMENT '楼层',
  `price` DECIMAL(10,2) NOT NULL COMMENT '实际价格',
  `status` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '状态',
  `description` VARCHAR(500) DEFAULT NULL COMMENT '客房描述',
  `image_url` VARCHAR(500) DEFAULT NULL COMMENT '客房图片',
  `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_room_number` (`room_number`),
  KEY `idx_type_id` (`type_id`),
  KEY `idx_status` (`status`),
  CONSTRAINT `fk_room_type` FOREIGN KEY (`type_id`) REFERENCES `sys_room_type` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='客房信息表';
```

#### 5.2.4 订单表（sys_order）

**表名**：sys_order  
**表注释**：订单信息表

| 字段名 | 数据类型 | 长度 | 允许空 | 默认值 | 主键 | 说明 |
|-------|---------|------|-------|-------|------|------|
| id | BIGINT | 20 | 否 | - | 是 | 订单ID |
| order_no | VARCHAR | 50 | 否 | - | - | 订单编号，唯一 |
| user_id | BIGINT | 20 | 否 | - | - | 用户ID |
| room_id | BIGINT | 20 | 否 | - | - | 客房ID |
| check_in_date | DATE | - | 否 | - | - | 入住日期 |
| check_out_date | DATE | - | 否 | - | - | 退房日期 |
| guest_count | INT | 11 | 否 | 1 | - | 入住人数 |
| contact_name | VARCHAR | 50 | 否 | - | - | 联系人姓名 |
| contact_phone | VARCHAR | 20 | 否 | - | - | 联系电话 |
| total_amount | DECIMAL | 10,2 | 否 | - | - | 订单总金额 |
| paid_amount | DECIMAL | 10,2 | 是 | 0.00 | - | 已支付金额 |
| status | TINYINT | 1 | 否 | 0 | - | 订单状态 |
| special_request | VARCHAR | 500 | 是 | NULL | - | 特殊要求 |
| remark | VARCHAR | 500 | 是 | NULL | - | 备注 |
| create_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 创建时间 |
| update_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 更新时间 |

**订单状态枚举**：

| 状态值 | 状态名称 | 说明 |
|-------|---------|------|
| 0 | 待支付 | 订单已创建，等待支付 |
| 1 | 待确认 | 已支付，等待管理员确认 |
| 2 | 已确认 | 管理员已确认订单 |
| 3 | 已入住 | 用户已办理入住 |
| 4 | 已完成 | 用户已退房 |
| 5 | 已取消 | 订单已取消 |
| 6 | 已拒绝 | 管理员拒绝订单 |

**索引设计**：

```sql
PRIMARY KEY (id),
UNIQUE KEY uk_order_no (order_no),
KEY idx_user_id (user_id),
KEY idx_room_id (room_id),
KEY idx_status (status),
KEY idx_check_in_date (check_in_date)
```

**建表SQL**：

```sql
CREATE TABLE `sys_order` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT '订单ID',
  `order_no` VARCHAR(50) NOT NULL COMMENT '订单编号',
  `user_id` BIGINT(20) NOT NULL COMMENT '用户ID',
  `room_id` BIGINT(20) NOT NULL COMMENT '客房ID',
  `check_in_date` DATE NOT NULL COMMENT '入住日期',
  `check_out_date` DATE NOT NULL COMMENT '退房日期',
  `guest_count` INT(11) NOT NULL DEFAULT 1 COMMENT '入住人数',
  `contact_name` VARCHAR(50) NOT NULL COMMENT '联系人姓名',
  `contact_phone` VARCHAR(20) NOT NULL COMMENT '联系电话',
  `total_amount` DECIMAL(10,2) NOT NULL COMMENT '订单总金额',
  `paid_amount` DECIMAL(10,2) DEFAULT 0.00 COMMENT '已支付金额',
  `status` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '订单状态',
  `special_request` VARCHAR(500) DEFAULT NULL COMMENT '特殊要求',
  `remark` VARCHAR(500) DEFAULT NULL COMMENT '备注',
  `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_order_no` (`order_no`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_room_id` (`room_id`),
  KEY `idx_status` (`status`),
  KEY `idx_check_in_date` (`check_in_date`),
  CONSTRAINT `fk_order_user` FOREIGN KEY (`user_id`) REFERENCES `sys_user` (`id`),
  CONSTRAINT `fk_order_room` FOREIGN KEY (`room_id`) REFERENCES `sys_room` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='订单信息表';
```

#### 5.2.5 支付记录表（sys_payment）

**表名**：sys_payment  
**表注释**：支付记录表

| 字段名 | 数据类型 | 长度 | 允许空 | 默认值 | 主键 | 说明 |
|-------|---------|------|-------|-------|------|------|
| id | BIGINT | 20 | 否 | - | 是 | 支付记录ID |
| order_id | BIGINT | 20 | 否 | - | - | 订单ID |
| payment_no | VARCHAR | 50 | 否 | - | - | 支付流水号 |
| payment_method | VARCHAR | 20 | 否 | - | - | 支付方式 |
| amount | DECIMAL | 10,2 | 否 | - | - | 支付金额 |
| status | TINYINT | 1 | 否 | 0 | - | 支付状态（0待支付 1已支付 2已退款） |
| payment_time | DATETIME | - | 是 | NULL | - | 支付时间 |
| create_time | DATETIME | - | 否 | CURRENT_TIMESTAMP | - | 创建时间 |

**建表SQL**：

```sql
CREATE TABLE `sys_payment` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT '支付记录ID',
  `order_id` BIGINT(20) NOT NULL COMMENT '订单ID',
  `payment_no` VARCHAR(50) NOT NULL COMMENT '支付流水号',
  `payment_method` VARCHAR(20) NOT NULL COMMENT '支付方式',
  `amount` DECIMAL(10,2) NOT NULL COMMENT '支付金额',
  `status` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '支付状态',
  `payment_time` DATETIME DEFAULT NULL COMMENT '支付时间',
  `create_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_payment_no` (`payment_no`),
  KEY `idx_order_id` (`order_id`),
  CONSTRAINT `fk_payment_order` FOREIGN KEY (`order_id`) REFERENCES `sys_order` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='支付记录表';
```

### 5.3 数据关系图

```
┌──────────────┐         ┌──────────────┐         ┌──────────────┐
│  sys_user    │         │  sys_order   │         │  sys_room    │
│──────────────│         │──────────────│         │──────────────│
│ PK id        │←────┐   │ PK id        │   ┌────→│ PK id        │
│    username  │     │   │ FK user_id   │───┘     │ FK type_id   │
│    password  │     │   │ FK room_id   │─────────→│    room_num  │
│    role      │     │   │    order_no  │         │    price     │
│    status    │     │   │    status    │         │    status    │
└──────────────┘     │   └──────────────┘         └──────┬───────┘
                     │                                   │
                     │   ┌──────────────┐               │
                     │   │ sys_payment  │               │
                     │   │──────────────│               │
                     │   │ PK id        │               │
                     └───│ FK order_id  │               │
                         │    amount    │               │
                         └──────────────┘               │
                                                        │
                                        ┌───────────────┘
                                        ↓
                              ┌──────────────┐
                              │sys_room_type │
                              │──────────────│
                              │ PK id        │
                              │    type_code │
                              │    type_name │
                              │    base_price│
                              └──────────────┘
```

**关系说明**：

- `sys_user` 与 `sys_order`：一对多关系，一个用户可以有多个订单
- `sys_room` 与 `sys_order`：一对多关系，一个客房可以有多个订单
- `sys_room_type` 与 `sys_room`：一对多关系，一个类型对应多个客房
- `sys_order` 与 `sys_payment`：一对多关系，一个订单可以有多条支付记录

### 5.4 索引设计

#### 5.4.1 索引设计原则

1. **主键索引**：所有表均使用自增主键
2. **唯一索引**：业务唯一字段（用户名、订单号、房间号等）
3. **外键索引**：外键关联字段建立索引
4. **查询索引**：高频查询条件字段建立索引
5. **组合索引**：多条件组合查询字段建立组合索引

#### 5.4.2 索引清单

| 表名 | 索引名 | 索引类型 | 字段 | 说明 |
|-----|-------|---------|------|------|
| sys_user | uk_username | UNIQUE | username | 用户名唯一索引 |
| sys_user | idx_role | NORMAL | role | 角色查询索引 |
| sys_user | idx_status | NORMAL | status | 状态查询索引 |
| sys_room | uk_room_number | UNIQUE | room_number | 房间号唯一索引 |
| sys_room | idx_type_id | NORMAL | type_id | 类型ID索引 |
| sys_room | idx_status | NORMAL | status | 状态查询索引 |
| sys_order | uk_order_no | UNIQUE | order_no | 订单号唯一索引 |
| sys_order | idx_user_id | NORMAL | user_id | 用户ID索引 |
| sys_order | idx_room_id | NORMAL | room_id | 客房ID索引 |
| sys_order | idx_status | NORMAL | status | 状态查询索引 |
| sys_order | idx_check_in_date | NORMAL | check_in_date | 入住日期索引 |

---

## 6. UI设计规范

### 6.1 设计风格

**整体风格**：商务风格（Business Style）

**设计理念**：

- **专业稳重**：采用简洁大方的设计风格，体现酒店行业的专业性和可靠性
- **清晰易用**：界面布局清晰，操作流程简洁，降低用户学习成本
- **高效便捷**：突出核心功能，优化操作路径，提高工作效率
- **视觉舒适**：合理的色彩搭配和间距设计，减少视觉疲劳

### 6.2 色彩规范

#### 6.2.1 主色调

| 色彩名称 | 色值 | 使用场景 |
|---------|------|---------|
| 主色-深蓝 | #1E3A8A | 主要按钮、导航栏、重要标题 |
| 主色-中蓝 | #2563EB | 次要按钮、链接、图标 |
| 主色-浅蓝 | #3B82F6 | 悬停状态、选中状态 |

#### 6.2.2 辅助色

| 色彩名称 | 色值 | 使用场景 |
|---------|------|---------|
| 成功色 | #10B981 | 成功提示、已完成状态 |
| 警告色 | #F59E0B | 警告提示、待处理状态 |
| 错误色 | #EF4444 | 错误提示、失败状态 |
| 信息色 | #3B82F6 | 信息提示、说明文字 |

#### 6.2.3 中性色

| 色彩名称 | 色值 | 使用场景 |
|---------|------|---------|
| 标题文字 | #111827 | 页面标题、重要文字 |
| 正文文字 | #374151 | 正文内容、表单标签 |
| 次要文字 | #6B7280 | 辅助说明、占位文字 |
| 边框颜色 | #D1D5DB | 边框、分割线 |
| 背景颜色 | #F3F4F6 | 页面背景、卡片背景 |
| 白色背景 | #FFFFFF | 内容区域、卡片背景 |

#### 6.2.4 状态色

| 状态 | 色值 | 说明 |
|-----|------|------|
| 空闲 | #10B981 | 客房空闲状态 |
| 预订 | #F59E0B | 客房预订状态 |
| 入住 | #3B82F6 | 客房入住状态 |
| 维护 | #6B7280 | 客房维护状态 |

### 6.3 字体规范

#### 6.3.1 字体家族

```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 
             'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', 
             Helvetica, Arial, sans-serif;
```

#### 6.3.2 字号规范

| 字号 | 大小 | 使用场景 |
|-----|------|---------|
| 超大标题 | 32px | 页面主标题 |
| 大标题 | 24px | 模块标题、弹窗标题 |
| 中标题 | 20px | 卡片标题、区块标题 |
| 小标题 | 16px | 表格标题、列表标题 |
| 正文 | 14px | 正文内容、表单标签 |
| 辅助文字 | 12px | 辅助说明、时间戳 |

#### 6.3.3 行高规范

| 类型 | 行高 | 说明 |
|-----|------|------|
| 标题 | 1.4 | 标题类文字 |
| 正文 | 1.6 | 正文内容 |
| 表单 | 1.5 | 表单标签和输入 |

### 6.4 组件规范

#### 6.4.1 按钮规范

| 按钮类型 | 样式说明 | 使用场景 |
|---------|---------|---------|
| 主要按钮 | 深蓝背景，白色文字 | 主要操作（提交、确认） |
| 次要按钮 | 白色背景，蓝色边框 | 次要操作（取消、返回） |
| 文字按钮 | 无背景，蓝色文字 | 文本链接操作 |
| 危险按钮 | 红色背景，白色文字 | 危险操作（删除） |
| 禁用按钮 | 灰色背景，灰色文字 | 禁用状态 |

**按钮尺寸**：

| 尺寸 | 高度 | 内边距 | 字号 |
|-----|------|-------|------|
| 大 | 40px | 16px 24px | 16px |
| 中 | 32px | 12px 20px | 14px |
| 小 | 28px | 8px 16px | 12px |

#### 6.4.2 表单规范

| 组件 | 高度 | 说明 |
|-----|------|------|
| 输入框 | 32px | 文本输入框 |
| 选择器 | 32px | 下拉选择器 |
| 日期选择 | 32px | 日期选择器 |
| 文本域 | 自适应 | 多行文本输入 |

**表单标签**：

- 标签宽度：100px（右对齐）
- 标签字号：14px
- 标签颜色：#374151

#### 6.4.3 表格规范

| 元素 | 样式说明 |
|-----|---------|
| 表头 | 背景色 #F3F4F6，字体加粗，字号 14px |
| 表格行 | 高度 48px，字号 14px，悬停背景 #F9FAFB |
| 边框 | 1px solid #E5E7EB |
| 分页 | 底部居中，每页显示 10/20/50/100 条 |

#### 6.4.4 卡片规范

| 属性 | 值 | 说明 |
|-----|---|------|
| 圆角 | 8px | 卡片圆角 |
| 阴影 | 0 1px 3px rgba(0,0,0,0.1) | 卡片阴影 |
| 内边距 | 20px | 卡片内边距 |
| 外边距 | 16px | 卡片间距 |

### 6.5 页面布局规范

#### 6.5.1 管理端布局

```
┌─────────────────────────────────────────────────────────┐
│                        顶部导航栏                         │
│  Logo    系统名称              用户信息    退出登录       │
├──────────┬──────────────────────────────────────────────┤
│          │                                              │
│  侧边栏   │              内容区域                        │
│          │                                              │
│  用户管理 │   ┌────────────────────────────────────┐   │
│  客房管理 │   │  面包屑导航                         │   │
│  订单管理 │   ├────────────────────────────────────┤   │
│  数据统计 │   │                                    │   │
│          │   │  页面内容                           │   │
│          │   │                                    │   │
│          │   │                                    │   │
│          │   └────────────────────────────────────┘   │
│          │                                              │
└──────────┴──────────────────────────────────────────────┘
```

**布局参数**：

- 顶部导航栏高度：60px
- 侧边栏宽度：200px（可折叠为 64px）
- 内容区域内边距：20px
- 响应式断点：768px

#### 6.5.2 用户端布局

```
┌─────────────────────────────────────────────────────────┐
│                        顶部导航栏                         │
│  Logo    系统名称      首页  客房  我的订单    登录/注册   │
├─────────────────────────────────────────────────────────┤
│                                                         │
│                     内容区域                             │
│                                                         │
│   ┌─────────────────────────────────────────────────┐  │
│   │                                                 │  │
│   │              页面内容                            │  │
│   │                                                 │  │
│   └─────────────────────────────────────────────────┘  │
│                                                         │
├─────────────────────────────────────────────────────────┤
│                        底部信息                          │
│              版权信息  联系方式  友情链接                  │
└─────────────────────────────────────────────────────────┘
```

**布局参数**：

- 顶部导航栏高度：64px
- 底部信息栏高度：80px
- 内容区域最大宽度：1200px
- 内容区域居中对齐

---

## 7. 接口设计规范

### 7.1 接口规范

#### 7.1.1 接口基础路径

- 管理端接口：`/api/admin`
- 用户端接口：`/api/user`
- 公共接口：`/api/common`

#### 7.1.2 请求方式

| 请求方式 | 使用场景 |
|---------|---------|
| GET | 查询操作 |
| POST | 新增操作 |
| PUT | 修改操作 |
| DELETE | 删除操作 |

#### 7.1.3 响应格式

**统一响应结构**：

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {},
  "timestamp": 1707811200000
}
```

**响应字段说明**：

| 字段 | 类型 | 说明 |
|-----|------|------|
| code | Integer | 响应状态码 |
| message | String | 响应消息 |
| data | Object | 响应数据 |
| timestamp | Long | 时间戳 |

**分页响应结构**：

```json
{
  "code": 200,
  "message": "操作成功",
  "data": {
    "list": [],
    "total": 100,
    "pageNum": 1,
    "pageSize": 10,
    "pages": 10
  },
  "timestamp": 1707811200000
}
```

### 7.2 管理端接口列表

#### 7.2.1 用户管理接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 用户列表查询 | GET | /api/admin/user/list | 分页查询用户列表 |
| 用户详情查询 | GET | /api/admin/user/{id} | 根据ID查询用户详情 |
| 用户新增 | POST | /api/admin/user | 新增用户 |
| 用户修改 | PUT | /api/admin/user | 修改用户信息 |
| 用户删除 | DELETE | /api/admin/user/{id} | 删除用户 |
| 用户状态修改 | PUT | /api/admin/user/status | 修改用户状态 |
| 密码重置 | PUT | /api/admin/user/reset-password | 重置用户密码 |

**用户列表查询接口**：

```
GET /api/admin/user/list?pageNum=1&pageSize=10&username=&role=&status=
```

**请求参数**：

| 参数名 | 类型 | 必填 | 说明 |
|-------|------|------|------|
| pageNum | Integer | 是 | 页码 |
| pageSize | Integer | 是 | 每页数量 |
| username | String | 否 | 用户名（模糊查询） |
| role | String | 否 | 角色 |
| status | Integer | 否 | 状态 |

**响应示例**：

```json
{
  "code": 200,
  "message": "查询成功",
  "data": {
    "list": [
      {
        "id": 1,
        "username": "admin",
        "realName": "管理员",
        "phone": "13800138000",
        "email": "admin@hotel.com",
        "role": "admin",
        "status": 1,
        "createTime": "2026-01-01 10:00:00"
      }
    ],
    "total": 1,
    "pageNum": 1,
    "pageSize": 10,
    "pages": 1
  }
}
```

#### 7.2.2 客房管理接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 客房列表查询 | GET | /api/admin/room/list | 分页查询客房列表 |
| 客房详情查询 | GET | /api/admin/room/{id} | 根据ID查询客房详情 |
| 客房新增 | POST | /api/admin/room | 新增客房 |
| 客房修改 | PUT | /api/admin/room | 修改客房信息 |
| 客房删除 | DELETE | /api/admin/room/{id} | 删除客房 |
| 客房状态修改 | PUT | /api/admin/room/status | 修改客房状态 |
| 客房类型列表 | GET | /api/admin/room/type/list | 查询客房类型列表 |

#### 7.2.3 订单管理接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 订单列表查询 | GET | /api/admin/order/list | 分页查询订单列表 |
| 订单详情查询 | GET | /api/admin/order/{id} | 根据ID查询订单详情 |
| 订单确认 | PUT | /api/admin/order/confirm/{id} | 确认订单 |
| 订单拒绝 | PUT | /api/admin/order/reject/{id} | 拒绝订单 |
| 办理入住 | PUT | /api/admin/order/check-in/{id} | 办理入住 |
| 办理退房 | PUT | /api/admin/order/check-out/{id} | 办理退房 |
| 订单导出 | GET | /api/admin/order/export | 导出订单数据 |

#### 7.2.4 数据统计接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 预订率统计 | GET | /api/admin/stats/booking-rate | 客房预订率统计 |
| 营收统计 | GET | /api/admin/stats/revenue | 营收统计 |
| 营收趋势 | GET | /api/admin/stats/revenue-trend | 营收趋势分析 |
| 订单统计 | GET | /api/admin/stats/order | 订单统计 |

**预订率统计接口**：

```
GET /api/admin/stats/booking-rate?startDate=2026-01-01&endDate=2026-01-31
```

**请求参数**：

| 参数名 | 类型 | 必填 | 说明 |
|-------|------|------|------|
| startDate | String | 是 | 开始日期 |
| endDate | String | 是 | 结束日期 |
| type | String | 否 | 统计类型（day/month） |

**响应示例**：

```json
{
  "code": 200,
  "message": "查询成功",
  "data": {
    "totalRooms": 50,
    "bookedRooms": 35,
    "bookingRate": 70.0,
    "details": [
      {
        "typeName": "标准间",
        "total": 20,
        "booked": 15,
        "rate": 75.0
      },
      {
        "typeName": "大床房",
        "total": 15,
        "booked": 12,
        "rate": 80.0
      }
    ]
  }
}
```

### 7.3 用户端接口列表

#### 7.3.1 认证接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 用户注册 | POST | /api/user/register | 用户注册 |
| 用户登录 | POST | /api/user/login | 用户登录 |
| 退出登录 | POST | /api/user/logout | 退出登录 |
| 获取用户信息 | GET | /api/user/info | 获取当前登录用户信息 |

**用户登录接口**：

```
POST /api/user/login
```

**请求参数**：

```json
{
  "username": "user001",
  "password": "123456"
}
```

**响应示例**：

```json
{
  "code": 200,
  "message": "登录成功",
  "data": {
    "id": 2,
    "username": "user001",
    "realName": "张三",
    "phone": "13900139000",
    "email": "user001@example.com",
    "role": "user"
  }
}
```

#### 7.3.2 个人信息接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 个人信息查询 | GET | /api/user/profile | 查询个人信息 |
| 个人信息修改 | PUT | /api/user/profile | 修改个人信息 |
| 密码修改 | PUT | /api/user/password | 修改密码 |

#### 7.3.3 客房预订接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 客房列表查询 | GET | /api/user/room/list | 查询可预订客房列表 |
| 客房详情查询 | GET | /api/user/room/{id} | 查询客房详情 |
| 客房搜索 | POST | /api/user/room/search | 搜索可用客房 |
| 提交预订 | POST | /api/user/order | 提交预订订单 |
| 订单支付 | POST | /api/user/order/pay/{id} | 支付订单 |

#### 7.3.4 订单管理接口

| 接口名称 | 请求方式 | 接口路径 | 说明 |
|---------|---------|---------|------|
| 我的订单列表 | GET | /api/user/order/list | 查询个人订单列表 |
| 订单详情 | GET | /api/user/order/{id} | 查询订单详情 |
| 取消订单 | PUT | /api/user/order/cancel/{id} | 取消订单 |

### 7.4 错误码定义

| 错误码 | 错误说明 |
|-------|---------|
| 200 | 操作成功 |
| 400 | 请求参数错误 |
| 401 | 未登录或登录已过期 |
| 403 | 无权限访问 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |
| 1001 | 用户名已存在 |
| 1002 | 用户名或密码错误 |
| 1003 | 用户已被禁用 |
| 2001 | 客房不存在 |
| 2002 | 客房已被预订 |
| 2003 | 客房状态异常 |
| 3001 | 订单不存在 |
| 3002 | 订单状态异常 |
| 3003 | 订单已支付 |
| 3004 | 订单已取消 |

---

## 8. 非功能性需求

### 8.1 性能需求

#### 8.1.1 响应时间

| 操作类型 | 响应时间要求 |
|---------|-------------|
| 页面加载 | ≤ 2秒 |
| 普通查询 | ≤ 1秒 |
| 复杂统计 | ≤ 3秒 |
| 数据导出 | ≤ 10秒 |

#### 8.1.2 并发性能

- **并发用户数**：支持至少100个并发用户同时在线
- **数据库连接池**：最大连接数20个
- **请求处理**：每秒处理至少50个请求

#### 8.1.3 数据量支持

- **用户数据**：支持至少10万用户记录
- **客房数据**：支持至少1000个客房记录
- **订单数据**：支持至少100万订单记录

### 8.2 安全需求

#### 8.2.1 认证安全

- **密码加密**：使用BCrypt加密存储用户密码
- **Session管理**：Session超时时间为30分钟
- **登录限制**：连续5次登录失败，锁定账号30分钟

#### 8.2.2 数据安全

- **数据备份**：每日自动备份数据库
- **敏感信息**：密码、支付信息等敏感数据加密存储
- **SQL注入防护**：使用MyBatis预编译语句防止SQL注入

#### 8.2.3 访问控制

- **角色权限**：基于角色的访问控制（RBAC）
- **接口鉴权**：后端接口验证用户登录状态和角色权限
- **前端路由守卫**：前端路由拦截未授权访问

### 8.3 可用性需求

#### 8.3.1 系统可用性

- **可用性目标**：99%以上
- **故障恢复时间**：≤ 1小时
- **数据恢复时间**：≤ 4小时

#### 8.3.2 易用性要求

- **界面友好**：界面简洁明了，操作流程清晰
- **错误提示**：提供明确的错误提示信息
- **帮助文档**：提供用户操作手册和帮助文档

#### 8.3.3 兼容性要求

- **浏览器兼容**：支持Chrome、Firefox、Safari、Edge等主流浏览器
- **分辨率适配**：支持1366x768及以上分辨率
- **移动端适配**：管理端暂不支持移动端，用户端支持响应式布局

---

## 9. 附录

### 9.1 术语表

| 术语 | 英文 | 说明 |
|-----|------|------|
| PRD | Product Requirement Document | 产品需求说明书 |
| SPA | Single Page Application | 单页应用 |
| ORM | Object Relational Mapping | 对象关系映射 |
| API | Application Programming Interface | 应用程序编程接口 |
| CRUD | Create, Read, Update, Delete | 增删改查 |
| RBAC | Role-Based Access Control | 基于角色的访问控制 |
| VO | View Object | 视图对象 |
| DTO | Data Transfer Object | 数据传输对象 |

### 9.2 参考文档

1. Spring Boot官方文档：https://spring.io/projects/spring-boot
2. MyBatis官方文档：https://mybatis.org/mybatis-3/
3. Vue.js官方文档：https://vuejs.org/
4. Element Plus官方文档：https://element-plus.org/
5. MySQL官方文档：https://dev.mysql.com/doc/

---

**文档结束**

**编制人员**：产品团队  
**审核人员**：技术团队  
**批准人员**：项目负责人